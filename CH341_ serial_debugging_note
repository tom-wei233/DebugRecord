# CH341串口设备排查与解决问题总结

## 问题一：设备插入后立刻断开

### 现象
- 插入 CH341 TTL 转 USB 串口设备后，系统日志显示成功识别，但很快断开。
- `dmesg` 日志提示 brltty 与 ch341 驱动冲突。

### 原因
- 系统安装了 brltty（盲文终端辅助工具），会占用 USB 转串口设备，与 CH341 冲突，导致自动断开。

### 解决办法
1. 卸载 brltty 软件包：    ((试过))
   ```sh
   sudo apt-get remove brltty
   ```
2. 停用 brltty

---

## 问题二：ttyUSB0 设备文件存在但串口工具无法打开

### 现象
- `/dev/ttyUSB0` 文件存在，权限正常，用户已加入 dialout 组。
- 使用 minicom 报错“没有那个文件或目录”，sudo 也一样。

### 原因
- minicom 的历史配置文件可能残留错误参数或设备路径，导致尝试打开不存在或错误的设备。

### 解决办法
1. 运行 `minicom -s`，进入设置，重新选择并确认串口设备为 `/dev/ttyUSB0`，保存后退出。
2. 重新打开 minicom，串口可正常访问。

---

## 通用排查建议

1. 检查 `/dev/ttyUSB*` 节点是否存在。
2. 检查权限和用户组（dialout）。
3. 用 `lsof /dev/ttyUSB0` 检查是否被其他进程占用。
4. 检查 `dmesg` 日志，观察设备插拔和错误信息。
5. 换用其它串口工具（如 picocom, screen）排查问题。


